{"version":3,"sources":["index.js","lib\\giturl.js"],"names":[],"mappings":";;;;;;;AAAA;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["module.exports = require('./lib/giturl');","/**!\n * giturl - lib/giturl.js\n *\n * Copyright(c) 2014\n * MIT Licensed\n *\n * Authors:\n *   fengmk2 <fengmk2@gmail.com> (http://fengmk2.github.com)\n */\n\n\n\n/**\n * Module dependencies.\n */\n\n// host[:/]n1/n2\nvar RE = /^([^:\\/]+)[:\\/](.+)$/i;\n\nvar HTTPS_HOSTS = {\n  'github.com': 1,\n  'gitcafe.com': 1,\n  'gist.github.com': 1,\n};\n\nexports.parse = function parse(sourceURL) {\n  if (!sourceURL || typeof sourceURL !== 'string') {\n    return '';\n  }\n\n  var url = sourceURL;\n  if (url.indexOf('@') >= 0) {\n    url = url.replace(/^[^@]+@/, '');    // `git@`` || `https://jpillora@` => \"\"\n  }\n  url = url.replace(/^[\\w+]+:\\/\\//, '')    // `git://` || `git+https://` => \"\"\n    .replace(/\\.git$/, '');             // .git => \"\"\n  var item = RE.exec(url);\n  if (!item) {\n    return sourceURL;\n  }\n\n  var host = item[1];\n  var protocol = HTTPS_HOSTS[host] ? 'https' : 'http';\n\n  // p1/p2/.../pn[.xxx]\n  var isContainGit = /\\.git$/.test(sourceURL);\n  var url = isContainGit ? item[2] : item[2].split('/', 2).join('/');\n  return protocol + '://' + host + '/' + url;\n};\n"]}